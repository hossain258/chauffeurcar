{% extends 'base.html' %}
{% load static %}
{% block title %}contact {% endblock title %}
    
    {% block content %}




    {% if messages %}
<ul class="messages">
    {% for message in messages %}
    <li {% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
    {% endfor %}
</ul>
{% endif %}


    <main class="main">
      <div class="section pt-60 pb-60 bg-primary">
        <div class="container-sub"> 
          <h1 class="heading-44-medium color-white mb-5 wow fadeInDown">Contact Us</h1>
          <div class="box-breadcrumb wow fadeInUp"> 
            <ul>
              <li> <a href="index.html">Home</a></li>
              <li> <a href="service-grid.html">Contact</a></li>
            </ul>
          </div>
        </div>
      </div>



      <div class="section pt-60 pb-60">
        <div class="container-sub"> 
          <div class="row"> 
            <div class="col-lg-3 col-sm-6 mb-30">
              <div class="cardContact wow fadeInRight">
                <div class="cardImage mb-30"><img src="assets/imgs/page/contact/new-york.png" alt="luxride"></div>
                <div class="cardInfo">
                  <h6 class="heading-20-medium mb-10">Sevenoaks</h6>
                  <p class="text-16 mb-20">Riverhead</p>
                  <p class="text-16 mb-20">+44772456663</p>
                  <p class="text-16">info@sevenoakspremiumcars.co.uk</p>
                </div>
              </div>
            </div>




            



            


           




          </div>
        </div>
      </div>
      <div class="section wow fadeInDown">
        <iframe class="map-contact" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2495.2709735246726!2d0.1665797771500121!3d51.2877372717641!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47df526b893dc52d%3A0x4bd6e92715405ae9!2sHamlin%20Rd%2C%20Sevenoaks!5e0!3m2!1sen!2suk!4v1686833846834!5m2!1sen!2suk" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
      </div>





      
      <section class="section mt-120 mb-120"> 
        <div class="container-sub"> 
          <div class="mw-770">
            <h2 class="heading-44-medium mb-60 text-center wow fadeInDown">Leave us your info</h2>
            <div class="form-contact form-comment wow fadeInUp"> 



              <form  id="contact-form">

                {% csrf_token %}
                
                
                {% comment %} {% comment %} <div>
                  {{ form.name }}
                  {{ form.email }}
                  {{ form.phone_number }}
                  {{ form.message }}

                </div> {% endcomment %} 




                <div class="row"> 
                  <div class="col-lg-6 col-md-6">
                    <div class="form-group"> 
                      
                      <input name="name" class="form-control" id="customername" type="text" placeholder="Enter your name">
                    </div>
                  </div>
                 
                 
                  <div class="col-lg-6 col-md-6">
                    <div class="form-group"> 
                      
                      <input name="email" class="form-control" id="customerEmail" type="text" placeholder="Enter your Email">
                    </div>
                  </div>

                  <div class="col-lg-12">
                    <div class="form-group"> 
                      
                      <input name="phone_number" class="form-control" id="Phone" type="text" placeholder="Enter Phone Number">
                    </div>
                  </div>         


                  



                  <div class="col-lg-12">
                    <div class="form-group"> 
                      <input name="message" class="form-control" type="text" placeholder="message" id="contactMessage">
                      
                      
                    </div>
                  </div>
                  <div class="col-lg-12">
                    <button class="btn btn-primary" id='contactSubmit' type="submit">Submit
                      <svg class="icon-16 ml-5" fill="none" stroke="currentColor" stroke-width="1.5" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 19.5l15-15m0 0H8.25m11.25 0v11.25"></path>
                      </svg>
                    </button>
                  </div>
                </div>
              </form>



            </div>
          </div>
        </div>
      </section>


    </main>


    
    {% endblock content %}
    {% block js %}
     <script>

      $("#contact-form").submit(function(e){
        
        e.preventDefault()
    
        $.ajax({
            method:"POST",
            url:"/contact/",
            data:{
                "name":$("[name='name']").val(),
                "email":$("#customerEmail").val(),
                "phone_number":$("[name='phone_number']").val(),
                "message":$("#contactMessage").val(),
                "csrfmiddlewaretoken":$("input[name='csrfmiddlewaretoken']").val()
            },
            success:(data)=>{
              Toastify({
                text: "The form submitted successfully",
                duration: 3000,
                destination: "https://github.com/apvarun/toastify-js",
                newWindow: true,
                close: true,
                gravity: "top", // `top` or `bottom`
                position: "right", // `left`, `center` or `right`
                stopOnFocus: true, // Prevents dismissing of toast on hover
                style: {
                  background: "linear-gradient(to right, #00b09b, #96c93d)",
                },
                onClick: function(){} // Callback after click
              }).showToast();
              $(this)[0].reset()
            },
            error:(err)=>{
              // alert("network problem");
              Toastify({
                text: "Invalid data",
                duration: 3000,
                destination: "https://github.com/apvarun/toastify-js",
                newWindow: true,
                close: true,
                gravity: "top", // `top` or `bottom`
                position: "left", // `left`, `center` or `right`
                stopOnFocus: true, // Prevents dismissing of toast on hover
                style: {
                  background: "linear-gradient(to right, #00b09b, #96c93d)",
                },
                onClick: function(){} // Callback after click
              }).showToast();
            console.log('error', err)
            }
        })
    
    })
    

    </script>
    {% endblock js %} 